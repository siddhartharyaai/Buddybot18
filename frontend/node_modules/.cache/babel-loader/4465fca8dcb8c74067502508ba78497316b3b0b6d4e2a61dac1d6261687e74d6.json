{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TextInput=_ref=>{let{onSendMessage,isLoading,darkMode}=_ref;const[inputValue,setInputValue]=useState('');const inputRef=useRef(null);useEffect(()=>{console.log('✅ TextInput component mounted (should only see this once)');if(inputRef.current){inputRef.current.focus();}},[]);// Empty deps: only on initial mount\nconst handleChange=e=>{console.log('📝 Text input changed:',e.target.value);setInputValue(e.target.value);};const handleKeyDown=e=>{if(e.key==='Enter'&&inputValue.trim()&&!isLoading){e.preventDefault();onSendMessage(inputValue.trim());setInputValue('');}};const handleSubmit=e=>{e.preventDefault();if(inputValue.trim()&&!isLoading){onSendMessage(inputValue.trim());setInputValue('');}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",value:inputValue,onChange:handleChange,onKeyDown:handleKeyDown,placeholder:\"Type a message...\",className:\"w-full px-4 py-3 pr-12 rounded-full border transition-colors focus:ring-2 focus:ring-blue-500 focus:border-transparent \".concat(darkMode?'bg-gray-800 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900 placeholder-gray-500'),disabled:isLoading,autoComplete:\"off\",autoCorrect:\"off\",spellCheck:\"false\"},\"stable-text-input\"),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSubmit,disabled:!inputValue.trim()||isLoading,className:\"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full transition-colors \".concat(darkMode?'text-blue-400 hover:text-blue-300 disabled:text-gray-600':'text-blue-500 hover:text-blue-600 disabled:text-gray-400'),children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"})})})]})});};export default TextInput;","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","TextInput","_ref","onSendMessage","isLoading","darkMode","inputValue","setInputValue","inputRef","console","log","current","focus","handleChange","e","target","value","handleKeyDown","key","trim","preventDefault","handleSubmit","className","children","ref","type","onChange","onKeyDown","placeholder","concat","disabled","autoComplete","autoCorrect","spellCheck","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["/app/frontend/src/components/TextInput.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nconst TextInput = ({ onSendMessage, isLoading, darkMode }) => {\n  const [inputValue, setInputValue] = useState('');\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    console.log('✅ TextInput component mounted (should only see this once)');\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, []); // Empty deps: only on initial mount\n\n  const handleChange = (e) => {\n    console.log('📝 Text input changed:', e.target.value);\n    setInputValue(e.target.value);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && inputValue.trim() && !isLoading) {\n      e.preventDefault();\n      onSendMessage(inputValue.trim());\n      setInputValue('');\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (inputValue.trim() && !isLoading) {\n      onSendMessage(inputValue.trim());\n      setInputValue('');\n    }\n  };\n\n  return (\n    <div className=\"flex items-center space-x-3\">\n      <div className=\"flex-1 relative\">\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={inputValue}\n          onChange={handleChange}\n          onKeyDown={handleKeyDown}\n          placeholder=\"Type a message...\"\n          className={`w-full px-4 py-3 pr-12 rounded-full border transition-colors focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n            darkMode \n              ? 'bg-gray-800 border-gray-600 text-white placeholder-gray-400'\n              : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\n          }`}\n          disabled={isLoading}\n          autoComplete=\"off\"\n          autoCorrect=\"off\"\n          spellCheck=\"false\"\n          key=\"stable-text-input\" // Stable key to prevent remount in parent\n        />\n        <button\n          type=\"button\"\n          onClick={handleSubmit}\n          disabled={!inputValue.trim() || isLoading}\n          className={`absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full transition-colors ${\n            darkMode \n              ? 'text-blue-400 hover:text-blue-300 disabled:text-gray-600' \n              : 'text-blue-500 hover:text-blue-600 disabled:text-gray-400'\n          }`}\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default TextInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}